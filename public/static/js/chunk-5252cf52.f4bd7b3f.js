(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5252cf52"],{"0732":function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"c",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"e",(function(){return o})),i.d(e,"d",(function(){return s}));var a=i("b775");function l(t){return Object(a["a"])({url:"/reportmake/createTableTitle",method:"post",params:t})}function n(t){return Object(a["a"])({url:"/reportmake/getTableTitleList",method:"get",params:{role:t}})}function r(t){return Object(a["a"])({url:"/reportmake/deleteTableTitle",method:"delete",data:t})}function o(t){return Object(a["a"])({url:"/reportmake/updateTableTitle",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/reportmake/specialQuery/searchDeptOperate/deptMaterialAmountTop20",method:"post",data:t})}},"3dcc":function(t,e,i){},"9bf0":function(t,e,i){"use strict";i("3dcc")},a9d5:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"title"},[i("span",{staticStyle:{"font-size":"20px","font-weight":"bold",color:"#393f4c"}},[t._v("日常需要报送的其他表格")]),i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:t.handlerCreate}},[t._v("添加表格")])],1),i("el-divider"),i("div",{staticClass:"list-unstyled"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.tableTitleList,stripe:"",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"ID",prop:"id",align:"center","min-width":"5px"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.id))])]}}])}),i("el-table-column",{attrs:{label:"表格标题",prop:"title",align:"center","min-width":"50px"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.title))])]}}])}),i("el-table-column",{attrs:{label:"创建时间",prop:"createdDate","min-width":"10px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("i",{staticClass:"el-icon-time",staticStyle:{"margin-right":"4px"}}),i("span",[t._v(t._s(a.createdDate))])]}}])}),i("el-table-column",{attrs:{label:"备注",prop:"createdDate","min-width":"60px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.desc))])]}}])}),i("el-table-column",{attrs:{label:"操作",align:"center","min-width":"20px","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row,l=e.$index;return[i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(e){return t.handleUpdate(a)}}},[t._v("编辑")]),"deleted"!=a.status?i("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(e){return t.handleDelete(a,l)}}},[t._v("删除")]):t._e()]}}])})],1)],1),i("el-dialog",{attrs:{visible:t.dialogCreateVisible,title:"定制表格名称"},on:{"update:visible":function(e){t.dialogCreateVisible=e}}},[i("el-form",{ref:"dataForm",staticStyle:{width:"500px","margin-left":"50px"},attrs:{rules:t.rules,model:t.tableTitle,"label-position":"left","label-width":"100px"}},[i("el-input",{staticStyle:{"margin-bottom":"20px"},attrs:{clearable:"",type:"text",placeholder:"请输入表格名称"},model:{value:t.tableTitle.title,callback:function(e){t.$set(t.tableTitle,"title",e)},expression:"tableTitle.title"}}),i("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:t.tableTitle.desc,callback:function(e){t.$set(t.tableTitle,"desc",e)},expression:"tableTitle.desc"}})],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogCreateVisible=!1}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.createData():t.updateData()}}},[t._v("确定")])],1)],1)],1)},l=[],n=i("0732"),r={data:function(){return{dialogStatus:"",listLoading:!1,tableKey:0,dialogCreateVisible:!1,tableTitle:{id:"",title:"",desc:""},tableTitleList:[],rules:{title:[{require:!0,message:"请输入表格标题",trigger:"blur"}],desc:[{require:!0,message:"请输入备注",trigger:"blur"}]}}},mounted:function(){this.getTableTitleList()},methods:{getTableTitleList:function(){var t=this;Object(n["c"])(localStorage.getItem("role")).then((function(e){var i=e.items;t.tableTitleList=i}))},resetTableTitle:function(){this.tableTitle={id:void 0,title:"",desc:""}},handlerCreate:function(){var t=this;this.resetTableTitle(),this.dialogStatus="create",this.dialogCreateVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},createData:function(){var t=this;""!==this.tableTitle?this.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(n["a"])(t.tableTitle).then((function(){t.getTableTitleList(),t.dialogCreateVisible=!1,t.$notify({title:"Success",message:"提交成功，感谢您的反馈",type:"success",duration:2e3})}))})):this.$message.error("输入的内容不能为空")},handleUpdate:function(t){var e=this;this.tableTitle=Object.assign({},t),this.dialogStatus="update",this.dialogCreateVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},updateData:function(){var t=this;this.$refs["dataForm"].validate((function(e){e&&t.$confirm("是否更新?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=Object.assign({},t.tableTitle);e.role=localStorage.getItem("role"),Object(n["e"])(e).then((function(){t.getTableTitleList(),t.dialogCreateVisible=!1,t.$notify({title:"Success",message:"更新成功",type:"success",duration:2e3})}))}))}))},handleDelete:function(t,e){var i=this;this.$confirm("是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e={id:t.id,role:localStorage.getItem("role")};Object(n["b"])(e).then((function(){i.getTableTitleList(),i.$notify({title:"Success",message:"删除成功",type:"success",duration:2e3})}))}))}}},o=r,s=(i("9bf0"),i("2877")),c=Object(s["a"])(o,a,l,!1,null,"2c5a550e",null);e["default"]=c.exports}}]);